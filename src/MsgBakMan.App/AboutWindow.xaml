<Window x:Class="MsgBakMan.App.AboutWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        mc:Ignorable="d"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="About Message Backup Manager"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip"
        SizeToContent="Width"
        MinWidth="420"
        MinHeight="300"
    Background="{DynamicResource AppBackgroundBrush}"
    SnapsToDevicePixels="True"
    UseLayoutRounding="True"
        Icon="Assets/msgbakman.ico">
    <Border Background="{DynamicResource AppBackgroundBrush}"
            Padding="14"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            SnapsToDevicePixels="True">
        <Border Style="{StaticResource CardBorderStyle}" Padding="16">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" MaxHeight="640">
                <StackPanel MaxWidth="720">
                <!-- Header -->
                <DockPanel LastChildFill="False">
                    <StackPanel DockPanel.Dock="Left" Orientation="Horizontal" VerticalAlignment="Center">
                        <Grid Width="36" Height="36" Margin="0,0,12,0" SnapsToDevicePixels="True" UseLayoutRounding="True">
                            <Border Background="{DynamicResource AccentBrush}" CornerRadius="10" />

                            <!-- Bubble + tail -->
                            <Canvas>
                                <Border Canvas.Left="7" Canvas.Top="7" Width="22" Height="18"
                                        Background="{DynamicResource AppBackgroundBrush}"
                                        CornerRadius="7" />
                                <Polygon Points="13,24 19,24 15,29"
                                         Fill="{DynamicResource AppBackgroundBrush}" />

                                <!-- Dots -->
                                <Ellipse Canvas.Left="12" Canvas.Top="15" Width="3" Height="3" Fill="{DynamicResource AccentBrush}" />
                                <Ellipse Canvas.Left="16.5" Canvas.Top="15" Width="3" Height="3" Fill="{DynamicResource AccentBrush}" />
                                <Ellipse Canvas.Left="21" Canvas.Top="15" Width="3" Height="3" Fill="{DynamicResource AccentBrush}" />
                            </Canvas>
                        </Grid>

                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Message Backup Manager" Style="{StaticResource AppTitleTextStyle}" />
                            <TextBlock Text="Import, merge, and export SMS Backup &amp; Restore XML backups." Style="{StaticResource AppSubtitleTextStyle}" />
                        </StackPanel>
                    </StackPanel>

                    <Border DockPanel.Dock="Right"
                            Background="{DynamicResource AccentSoftBrush}"
                            CornerRadius="10"
                            Padding="10,6"
                            VerticalAlignment="Center">
                        <TextBlock x:Name="VersionText"
                                   Foreground="{DynamicResource AccentBrush}"
                                   FontWeight="SemiBold" />
                    </Border>
                </DockPanel>

                <TextBlock x:Name="RuntimeText" Margin="0,12,0,0" Style="{StaticResource MutedTextStyle}" TextWrapping="Wrap" />

                <!-- Project -->
                <Border x:Name="ProjectSection" Style="{StaticResource CardBorderStyle}" Margin="0,14,0,0" Padding="16">
                    <StackPanel>
                        <TextBlock Text="Project" Style="{StaticResource SectionHeaderTextStyle}" />
                        <TextBlock Text="Quick access to the active project folder." Style="{StaticResource MutedTextStyle}" Margin="0,4,0,0" />

                        <Border Style="{StaticResource RoundedInputBorderStyle}" Margin="0,12,0,0">
                            <TextBlock x:Name="ProjectFolderText" Style="{StaticResource MutedTextStyle}" TextWrapping="Wrap" />
                        </Border>

                        <DockPanel Margin="0,12,0,0" LastChildFill="False">
                            <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                                <Button x:Name="OpenProjectFolderButton" Content="  Open project  " Style="{StaticResource SecondaryButtonStyle}" Click="OpenProjectFolder_Click" />
                                <Button x:Name="OpenDbFolderButton" Content="  Open DB  " Style="{StaticResource SecondaryButtonStyle}" Margin="10,0,0,0" Click="OpenDbFolder_Click" />
                                <Button x:Name="OpenMediaFolderButton" Content="  Open media  " Style="{StaticResource SecondaryButtonStyle}" Margin="10,0,0,0" Click="OpenMediaFolder_Click" />
                            </StackPanel>
                        </DockPanel>
                    </StackPanel>
                </Border>

                <!-- Maintenance section removed; use Maintenance tab in main window -->

                <DockPanel Margin="0,16,0,0" LastChildFill="False">
                    <Button DockPanel.Dock="Right" Content="OK" Width="90" IsDefault="True" Style="{StaticResource PrimaryButtonStyle}" Click="Ok_Click" />
                </DockPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Border>
</Window>
